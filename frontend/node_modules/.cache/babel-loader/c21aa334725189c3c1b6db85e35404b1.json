{"ast":null,"code":"import { defaults, noop, time } from '@motionone/utils';\nimport { stopAnimation } from './stop-animation.es.js';\n\nvar createAnimation = function createAnimation(factory) {\n  return factory();\n};\n\nvar withControls = function withControls(animationFactory, options) {\n  var duration = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaults.duration;\n  return new Proxy({\n    animations: animationFactory.map(createAnimation).filter(Boolean),\n    duration: duration,\n    options: options\n  }, controls);\n};\n/**\r\n * TODO:\r\n * Currently this returns the first animation, ideally it would return\r\n * the first active animation.\r\n */\n\n\nvar getActiveAnimation = function getActiveAnimation(state) {\n  return state.animations[0];\n};\n\nvar controls = {\n  get: function get(target, key) {\n    var activeAnimation = getActiveAnimation(target);\n\n    switch (key) {\n      case \"duration\":\n        return target.duration;\n\n      case \"currentTime\":\n        return time.s((activeAnimation === null || activeAnimation === void 0 ? void 0 : activeAnimation[key]) || 0);\n\n      case \"playbackRate\":\n      case \"playState\":\n        return activeAnimation === null || activeAnimation === void 0 ? void 0 : activeAnimation[key];\n\n      case \"finished\":\n        if (!target.finished) {\n          target.finished = Promise.all(target.animations.map(selectFinished)).catch(noop);\n        }\n\n        return target.finished;\n\n      case \"stop\":\n        return function () {\n          target.animations.forEach(function (animation) {\n            return stopAnimation(animation);\n          });\n        };\n\n      case \"forEachNative\":\n        /**\r\n         * This is for internal use only, fire a callback for each\r\n         * underlying animation.\r\n         */\n        return function (callback) {\n          target.animations.forEach(function (animation) {\n            return callback(animation, target);\n          });\n        };\n\n      default:\n        return typeof (activeAnimation === null || activeAnimation === void 0 ? void 0 : activeAnimation[key]) === \"undefined\" ? undefined : function () {\n          return target.animations.forEach(function (animation) {\n            return animation[key]();\n          });\n        };\n    }\n  },\n  set: function set(target, key, value) {\n    switch (key) {\n      case \"currentTime\":\n        value = time.ms(value);\n\n      case \"currentTime\":\n      case \"playbackRate\":\n        for (var i = 0; i < target.animations.length; i++) {\n          target.animations[i][key] = value;\n        }\n\n        return true;\n    }\n\n    return false;\n  }\n};\n\nvar selectFinished = function selectFinished(animation) {\n  return animation.finished;\n};\n\nexport { controls, withControls };","map":{"version":3,"names":["defaults","noop","time","stopAnimation","createAnimation","factory","withControls","animationFactory","options","duration","Proxy","animations","map","filter","Boolean","controls","getActiveAnimation","state","get","target","key","activeAnimation","s","finished","Promise","all","selectFinished","catch","forEach","animation","callback","undefined","set","value","ms","i","length"],"sources":["C:/JZ/code/Hack-the-North/frontend/node_modules/@motionone/dom/dist/animate/utils/controls.es.js"],"sourcesContent":["import { defaults, noop, time } from '@motionone/utils';\r\nimport { stopAnimation } from './stop-animation.es.js';\r\n\r\nconst createAnimation = (factory) => factory();\r\nconst withControls = (animationFactory, options, duration = defaults.duration) => {\r\n    return new Proxy({\r\n        animations: animationFactory.map(createAnimation).filter(Boolean),\r\n        duration,\r\n        options,\r\n    }, controls);\r\n};\r\n/**\r\n * TODO:\r\n * Currently this returns the first animation, ideally it would return\r\n * the first active animation.\r\n */\r\nconst getActiveAnimation = (state) => state.animations[0];\r\nconst controls = {\r\n    get: (target, key) => {\r\n        const activeAnimation = getActiveAnimation(target);\r\n        switch (key) {\r\n            case \"duration\":\r\n                return target.duration;\r\n            case \"currentTime\":\r\n                return time.s((activeAnimation === null || activeAnimation === void 0 ? void 0 : activeAnimation[key]) || 0);\r\n            case \"playbackRate\":\r\n            case \"playState\":\r\n                return activeAnimation === null || activeAnimation === void 0 ? void 0 : activeAnimation[key];\r\n            case \"finished\":\r\n                if (!target.finished) {\r\n                    target.finished = Promise.all(target.animations.map(selectFinished)).catch(noop);\r\n                }\r\n                return target.finished;\r\n            case \"stop\":\r\n                return () => {\r\n                    target.animations.forEach((animation) => stopAnimation(animation));\r\n                };\r\n            case \"forEachNative\":\r\n                /**\r\n                 * This is for internal use only, fire a callback for each\r\n                 * underlying animation.\r\n                 */\r\n                return (callback) => {\r\n                    target.animations.forEach((animation) => callback(animation, target));\r\n                };\r\n            default:\r\n                return typeof (activeAnimation === null || activeAnimation === void 0 ? void 0 : activeAnimation[key]) === \"undefined\"\r\n                    ? undefined\r\n                    : () => target.animations.forEach((animation) => animation[key]());\r\n        }\r\n    },\r\n    set: (target, key, value) => {\r\n        switch (key) {\r\n            case \"currentTime\":\r\n                value = time.ms(value);\r\n            case \"currentTime\":\r\n            case \"playbackRate\":\r\n                for (let i = 0; i < target.animations.length; i++) {\r\n                    target.animations[i][key] = value;\r\n                }\r\n                return true;\r\n        }\r\n        return false;\r\n    },\r\n};\r\nconst selectFinished = (animation) => animation.finished;\r\n\r\nexport { controls, withControls };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}