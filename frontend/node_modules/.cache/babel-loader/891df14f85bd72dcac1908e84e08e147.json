{"ast":null,"code":"import _createForOfIteratorHelper from \"C:/JZ/code/Hack-the-North/frontend/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport * as React from 'react';\nimport { useId, useMemo } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { PopChild } from './PopChild.mjs';\n\nvar PresenceChild = function PresenceChild(_ref) {\n  var children = _ref.children,\n      initial = _ref.initial,\n      isPresent = _ref.isPresent,\n      _onExitComplete = _ref.onExitComplete,\n      custom = _ref.custom,\n      presenceAffectsLayout = _ref.presenceAffectsLayout,\n      mode = _ref.mode;\n  var presenceChildren = useConstant(newChildrenMap);\n  var id = useId();\n  var context = useMemo(function () {\n    return {\n      id: id,\n      initial: initial,\n      isPresent: isPresent,\n      custom: custom,\n      onExitComplete: function onExitComplete(childId) {\n        presenceChildren.set(childId, true);\n\n        var _iterator = _createForOfIteratorHelper(presenceChildren.values()),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var isComplete = _step.value;\n            if (!isComplete) return; // can stop searching when any is incomplete\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n\n        _onExitComplete && _onExitComplete();\n      },\n      register: function register(childId) {\n        presenceChildren.set(childId, false);\n        return function () {\n          return presenceChildren.delete(childId);\n        };\n      }\n    };\n  },\n  /**\r\n   * If the presence of a child affects the layout of the components around it,\r\n   * we want to make a new context value to ensure they get re-rendered\r\n   * so they can detect that layout change.\r\n   */\n  presenceAffectsLayout ? undefined : [isPresent]);\n  useMemo(function () {\n    presenceChildren.forEach(function (_, key) {\n      return presenceChildren.set(key, false);\n    });\n  }, [isPresent]);\n  /**\r\n   * If there's no `motion` components to fire exit animations, we want to remove this\r\n   * component immediately.\r\n   */\n\n  React.useEffect(function () {\n    !isPresent && !presenceChildren.size && _onExitComplete && _onExitComplete();\n  }, [isPresent]);\n\n  if (mode === \"popLayout\") {\n    children = React.createElement(PopChild, {\n      isPresent: isPresent\n    }, children);\n  }\n\n  return React.createElement(PresenceContext.Provider, {\n    value: context\n  }, children);\n};\n\nfunction newChildrenMap() {\n  return new Map();\n}\n\nexport { PresenceChild };","map":{"version":3,"names":["React","useId","useMemo","PresenceContext","useConstant","PopChild","PresenceChild","children","initial","isPresent","onExitComplete","custom","presenceAffectsLayout","mode","presenceChildren","newChildrenMap","id","context","childId","set","values","isComplete","register","delete","undefined","forEach","_","key","useEffect","size","createElement","Provider","value","Map"],"sources":["C:/JZ/code/Hack-the-North/frontend/node_modules/framer-motion/dist/es/components/AnimatePresence/PresenceChild.mjs"],"sourcesContent":["import * as React from 'react';\r\nimport { useId, useMemo } from 'react';\r\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\r\nimport { useConstant } from '../../utils/use-constant.mjs';\r\nimport { PopChild } from './PopChild.mjs';\r\n\r\nconst PresenceChild = ({ children, initial, isPresent, onExitComplete, custom, presenceAffectsLayout, mode, }) => {\r\n    const presenceChildren = useConstant(newChildrenMap);\r\n    const id = useId();\r\n    const context = useMemo(() => ({\r\n        id,\r\n        initial,\r\n        isPresent,\r\n        custom,\r\n        onExitComplete: (childId) => {\r\n            presenceChildren.set(childId, true);\r\n            for (const isComplete of presenceChildren.values()) {\r\n                if (!isComplete)\r\n                    return; // can stop searching when any is incomplete\r\n            }\r\n            onExitComplete && onExitComplete();\r\n        },\r\n        register: (childId) => {\r\n            presenceChildren.set(childId, false);\r\n            return () => presenceChildren.delete(childId);\r\n        },\r\n    }), \r\n    /**\r\n     * If the presence of a child affects the layout of the components around it,\r\n     * we want to make a new context value to ensure they get re-rendered\r\n     * so they can detect that layout change.\r\n     */\r\n    presenceAffectsLayout ? undefined : [isPresent]);\r\n    useMemo(() => {\r\n        presenceChildren.forEach((_, key) => presenceChildren.set(key, false));\r\n    }, [isPresent]);\r\n    /**\r\n     * If there's no `motion` components to fire exit animations, we want to remove this\r\n     * component immediately.\r\n     */\r\n    React.useEffect(() => {\r\n        !isPresent &&\r\n            !presenceChildren.size &&\r\n            onExitComplete &&\r\n            onExitComplete();\r\n    }, [isPresent]);\r\n    if (mode === \"popLayout\") {\r\n        children = React.createElement(PopChild, { isPresent: isPresent }, children);\r\n    }\r\n    return (React.createElement(PresenceContext.Provider, { value: context }, children));\r\n};\r\nfunction newChildrenMap() {\r\n    return new Map();\r\n}\r\n\r\nexport { PresenceChild };\r\n"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,KAAT,EAAgBC,OAAhB,QAA+B,OAA/B;AACA,SAASC,eAAT,QAAgC,mCAAhC;AACA,SAASC,WAAT,QAA4B,8BAA5B;AACA,SAASC,QAAT,QAAyB,gBAAzB;;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,OAA4F;EAAA,IAAzFC,QAAyF,QAAzFA,QAAyF;EAAA,IAA/EC,OAA+E,QAA/EA,OAA+E;EAAA,IAAtEC,SAAsE,QAAtEA,SAAsE;EAAA,IAA3DC,eAA2D,QAA3DA,cAA2D;EAAA,IAA3CC,MAA2C,QAA3CA,MAA2C;EAAA,IAAnCC,qBAAmC,QAAnCA,qBAAmC;EAAA,IAAZC,IAAY,QAAZA,IAAY;EAC9G,IAAMC,gBAAgB,GAAGV,WAAW,CAACW,cAAD,CAApC;EACA,IAAMC,EAAE,GAAGf,KAAK,EAAhB;EACA,IAAMgB,OAAO,GAAGf,OAAO,CAAC;IAAA,OAAO;MAC3Bc,EAAE,EAAFA,EAD2B;MAE3BR,OAAO,EAAPA,OAF2B;MAG3BC,SAAS,EAATA,SAH2B;MAI3BE,MAAM,EAANA,MAJ2B;MAK3BD,cAAc,EAAE,wBAACQ,OAAD,EAAa;QACzBJ,gBAAgB,CAACK,GAAjB,CAAqBD,OAArB,EAA8B,IAA9B;;QADyB,2CAEAJ,gBAAgB,CAACM,MAAjB,EAFA;QAAA;;QAAA;UAEzB,oDAAoD;YAAA,IAAzCC,UAAyC;YAChD,IAAI,CAACA,UAAL,EACI,OAF4C,CAEpC;UACf;QALwB;UAAA;QAAA;UAAA;QAAA;;QAMzBX,eAAc,IAAIA,eAAc,EAAhC;MACH,CAZ0B;MAa3BY,QAAQ,EAAE,kBAACJ,OAAD,EAAa;QACnBJ,gBAAgB,CAACK,GAAjB,CAAqBD,OAArB,EAA8B,KAA9B;QACA,OAAO;UAAA,OAAMJ,gBAAgB,CAACS,MAAjB,CAAwBL,OAAxB,CAAN;QAAA,CAAP;MACH;IAhB0B,CAAP;EAAA,CAAD;EAkBvB;AACJ;AACA;AACA;AACA;EACIN,qBAAqB,GAAGY,SAAH,GAAe,CAACf,SAAD,CAvBb,CAAvB;EAwBAP,OAAO,CAAC,YAAM;IACVY,gBAAgB,CAACW,OAAjB,CAAyB,UAACC,CAAD,EAAIC,GAAJ;MAAA,OAAYb,gBAAgB,CAACK,GAAjB,CAAqBQ,GAArB,EAA0B,KAA1B,CAAZ;IAAA,CAAzB;EACH,CAFM,EAEJ,CAAClB,SAAD,CAFI,CAAP;EAGA;AACJ;AACA;AACA;;EACIT,KAAK,CAAC4B,SAAN,CAAgB,YAAM;IAClB,CAACnB,SAAD,IACI,CAACK,gBAAgB,CAACe,IADtB,IAEInB,eAFJ,IAGIA,eAAc,EAHlB;EAIH,CALD,EAKG,CAACD,SAAD,CALH;;EAMA,IAAII,IAAI,KAAK,WAAb,EAA0B;IACtBN,QAAQ,GAAGP,KAAK,CAAC8B,aAAN,CAAoBzB,QAApB,EAA8B;MAAEI,SAAS,EAAEA;IAAb,CAA9B,EAAwDF,QAAxD,CAAX;EACH;;EACD,OAAQP,KAAK,CAAC8B,aAAN,CAAoB3B,eAAe,CAAC4B,QAApC,EAA8C;IAAEC,KAAK,EAAEf;EAAT,CAA9C,EAAkEV,QAAlE,CAAR;AACH,CA5CD;;AA6CA,SAASQ,cAAT,GAA0B;EACtB,OAAO,IAAIkB,GAAJ,EAAP;AACH;;AAED,SAAS3B,aAAT"},"metadata":{},"sourceType":"module"}