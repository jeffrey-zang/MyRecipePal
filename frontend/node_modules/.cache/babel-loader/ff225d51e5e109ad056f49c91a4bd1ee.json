{"ast":null,"code":"import { time } from '@motionone/utils';\nimport { defaults } from './defaults.es.js';\nimport { calcDampingRatio } from './utils.es.js';\nimport { hasReachedTarget } from '../utils/has-reached-target.es.js';\nimport { calcGeneratorVelocity } from '../utils/velocity.es.js';\n\nconst spring = function () {\n  let {\n    stiffness = defaults.stiffness,\n    damping = defaults.damping,\n    mass = defaults.mass,\n    from = 0,\n    to = 1,\n    velocity = 0.0,\n    restSpeed = 2,\n    restDistance = 0.5\n  } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  velocity = velocity ? time.s(velocity) : 0.0;\n  const state = {\n    done: false,\n    hasReachedTarget: false,\n    current: from,\n    target: to\n  };\n  const initialDelta = to - from;\n  const undampedAngularFreq = Math.sqrt(stiffness / mass) / 1000;\n  const dampingRatio = calcDampingRatio(stiffness, damping, mass);\n  let resolveSpring;\n\n  if (dampingRatio < 1) {\n    const angularFreq = undampedAngularFreq * Math.sqrt(1 - dampingRatio * dampingRatio); // Underdamped spring (bouncy)\n\n    resolveSpring = t => to - Math.exp(-dampingRatio * undampedAngularFreq * t) * ((-velocity + dampingRatio * undampedAngularFreq * initialDelta) / angularFreq * Math.sin(angularFreq * t) + initialDelta * Math.cos(angularFreq * t));\n  } else {\n    // Critically damped spring\n    resolveSpring = t => {\n      return to - Math.exp(-undampedAngularFreq * t) * (initialDelta + (-velocity + undampedAngularFreq * initialDelta) * t);\n    };\n  }\n\n  return t => {\n    state.current = resolveSpring(t);\n    const currentVelocity = t === 0 ? velocity : calcGeneratorVelocity(resolveSpring, t, state.current);\n    const isBelowVelocityThreshold = Math.abs(currentVelocity) <= restSpeed;\n    const isBelowDisplacementThreshold = Math.abs(to - state.current) <= restDistance;\n    state.done = isBelowVelocityThreshold && isBelowDisplacementThreshold;\n    state.hasReachedTarget = hasReachedTarget(from, to, state.current);\n    return state;\n  };\n};\n\nexport { spring };","map":{"version":3,"names":["time","defaults","calcDampingRatio","hasReachedTarget","calcGeneratorVelocity","spring","stiffness","damping","mass","from","to","velocity","restSpeed","restDistance","s","state","done","current","target","initialDelta","undampedAngularFreq","Math","sqrt","dampingRatio","resolveSpring","angularFreq","t","exp","sin","cos","currentVelocity","isBelowVelocityThreshold","abs","isBelowDisplacementThreshold"],"sources":["C:/JZ/code/Hack-the-North/frontend/node_modules/@motionone/generators/dist/spring/index.es.js"],"sourcesContent":["import { time } from '@motionone/utils';\r\nimport { defaults } from './defaults.es.js';\r\nimport { calcDampingRatio } from './utils.es.js';\r\nimport { hasReachedTarget } from '../utils/has-reached-target.es.js';\r\nimport { calcGeneratorVelocity } from '../utils/velocity.es.js';\r\n\r\nconst spring = ({ stiffness = defaults.stiffness, damping = defaults.damping, mass = defaults.mass, from = 0, to = 1, velocity = 0.0, restSpeed = 2, restDistance = 0.5, } = {}) => {\r\n    velocity = velocity ? time.s(velocity) : 0.0;\r\n    const state = {\r\n        done: false,\r\n        hasReachedTarget: false,\r\n        current: from,\r\n        target: to,\r\n    };\r\n    const initialDelta = to - from;\r\n    const undampedAngularFreq = Math.sqrt(stiffness / mass) / 1000;\r\n    const dampingRatio = calcDampingRatio(stiffness, damping, mass);\r\n    let resolveSpring;\r\n    if (dampingRatio < 1) {\r\n        const angularFreq = undampedAngularFreq * Math.sqrt(1 - dampingRatio * dampingRatio);\r\n        // Underdamped spring (bouncy)\r\n        resolveSpring = (t) => to -\r\n            Math.exp(-dampingRatio * undampedAngularFreq * t) *\r\n                (((-velocity + dampingRatio * undampedAngularFreq * initialDelta) /\r\n                    angularFreq) *\r\n                    Math.sin(angularFreq * t) +\r\n                    initialDelta * Math.cos(angularFreq * t));\r\n    }\r\n    else {\r\n        // Critically damped spring\r\n        resolveSpring = (t) => {\r\n            return (to -\r\n                Math.exp(-undampedAngularFreq * t) *\r\n                    (initialDelta + (-velocity + undampedAngularFreq * initialDelta) * t));\r\n        };\r\n    }\r\n    return (t) => {\r\n        state.current = resolveSpring(t);\r\n        const currentVelocity = t === 0\r\n            ? velocity\r\n            : calcGeneratorVelocity(resolveSpring, t, state.current);\r\n        const isBelowVelocityThreshold = Math.abs(currentVelocity) <= restSpeed;\r\n        const isBelowDisplacementThreshold = Math.abs(to - state.current) <= restDistance;\r\n        state.done = isBelowVelocityThreshold && isBelowDisplacementThreshold;\r\n        state.hasReachedTarget = hasReachedTarget(from, to, state.current);\r\n        return state;\r\n    };\r\n};\r\n\r\nexport { spring };\r\n"],"mappings":"AAAA,SAASA,IAAT,QAAqB,kBAArB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,gBAAT,QAAiC,eAAjC;AACA,SAASC,gBAAT,QAAiC,mCAAjC;AACA,SAASC,qBAAT,QAAsC,yBAAtC;;AAEA,MAAMC,MAAM,GAAG,YAAqK;EAAA,IAApK;IAAEC,SAAS,GAAGL,QAAQ,CAACK,SAAvB;IAAkCC,OAAO,GAAGN,QAAQ,CAACM,OAArD;IAA8DC,IAAI,GAAGP,QAAQ,CAACO,IAA9E;IAAoFC,IAAI,GAAG,CAA3F;IAA8FC,EAAE,GAAG,CAAnG;IAAsGC,QAAQ,GAAG,GAAjH;IAAsHC,SAAS,GAAG,CAAlI;IAAqIC,YAAY,GAAG;EAApJ,CAAoK,uEAAP,EAAO;EAChLF,QAAQ,GAAGA,QAAQ,GAAGX,IAAI,CAACc,CAAL,CAAOH,QAAP,CAAH,GAAsB,GAAzC;EACA,MAAMI,KAAK,GAAG;IACVC,IAAI,EAAE,KADI;IAEVb,gBAAgB,EAAE,KAFR;IAGVc,OAAO,EAAER,IAHC;IAIVS,MAAM,EAAER;EAJE,CAAd;EAMA,MAAMS,YAAY,GAAGT,EAAE,GAAGD,IAA1B;EACA,MAAMW,mBAAmB,GAAGC,IAAI,CAACC,IAAL,CAAUhB,SAAS,GAAGE,IAAtB,IAA8B,IAA1D;EACA,MAAMe,YAAY,GAAGrB,gBAAgB,CAACI,SAAD,EAAYC,OAAZ,EAAqBC,IAArB,CAArC;EACA,IAAIgB,aAAJ;;EACA,IAAID,YAAY,GAAG,CAAnB,EAAsB;IAClB,MAAME,WAAW,GAAGL,mBAAmB,GAAGC,IAAI,CAACC,IAAL,CAAU,IAAIC,YAAY,GAAGA,YAA7B,CAA1C,CADkB,CAElB;;IACAC,aAAa,GAAIE,CAAD,IAAOhB,EAAE,GACrBW,IAAI,CAACM,GAAL,CAAS,CAACJ,YAAD,GAAgBH,mBAAhB,GAAsCM,CAA/C,KACM,CAAC,CAACf,QAAD,GAAYY,YAAY,GAAGH,mBAAf,GAAqCD,YAAlD,IACEM,WADH,GAEGJ,IAAI,CAACO,GAAL,CAASH,WAAW,GAAGC,CAAvB,CAFH,GAGGP,YAAY,GAAGE,IAAI,CAACQ,GAAL,CAASJ,WAAW,GAAGC,CAAvB,CAJvB,CADJ;EAMH,CATD,MAUK;IACD;IACAF,aAAa,GAAIE,CAAD,IAAO;MACnB,OAAQhB,EAAE,GACNW,IAAI,CAACM,GAAL,CAAS,CAACP,mBAAD,GAAuBM,CAAhC,KACKP,YAAY,GAAG,CAAC,CAACR,QAAD,GAAYS,mBAAmB,GAAGD,YAAnC,IAAmDO,CADvE,CADJ;IAGH,CAJD;EAKH;;EACD,OAAQA,CAAD,IAAO;IACVX,KAAK,CAACE,OAAN,GAAgBO,aAAa,CAACE,CAAD,CAA7B;IACA,MAAMI,eAAe,GAAGJ,CAAC,KAAK,CAAN,GAClBf,QADkB,GAElBP,qBAAqB,CAACoB,aAAD,EAAgBE,CAAhB,EAAmBX,KAAK,CAACE,OAAzB,CAF3B;IAGA,MAAMc,wBAAwB,GAAGV,IAAI,CAACW,GAAL,CAASF,eAAT,KAA6BlB,SAA9D;IACA,MAAMqB,4BAA4B,GAAGZ,IAAI,CAACW,GAAL,CAAStB,EAAE,GAAGK,KAAK,CAACE,OAApB,KAAgCJ,YAArE;IACAE,KAAK,CAACC,IAAN,GAAae,wBAAwB,IAAIE,4BAAzC;IACAlB,KAAK,CAACZ,gBAAN,GAAyBA,gBAAgB,CAACM,IAAD,EAAOC,EAAP,EAAWK,KAAK,CAACE,OAAjB,CAAzC;IACA,OAAOF,KAAP;EACH,CAVD;AAWH,CAzCD;;AA2CA,SAASV,MAAT"},"metadata":{},"sourceType":"module"}